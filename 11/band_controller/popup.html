<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>밴드 조종기 v2</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <header>
        <h2>밴드 운영 조종기 <small>v2</small></h2>
    </header>

    <nav class="tab-nav">
        <button class="tab-button active" data-tab="point">포인트</button>
        <button class="tab-button" data-tab="status">상태</button>
        <button class="tab-button" data-tab="transfer-point">포인트 양도</button>
        <button class="tab-button" data-tab="transfer-item">아이템 양도</button>
        <button class="tab-button" data-tab="gamble">도박</button>
        <button class="tab-button" data-tab="item">아이템/상점</button>
        <button class="tab-button" data-tab="info">정보조회</button>
    </nav>

    <main class="content-wrapper">
        <!-- 포인트 탭 -->
        <div id="point-tab" class="tab-content active">
            <form id="point-form" class="tab-form">
                <div class="form-group">
                    <label>회원 선택</label>
                    <select name="member_id" required><option value="">로딩 중...</option></select>
                </div>
                <div class="form-group">
                    <label>포인트 (숫자만)</label>
                    <input type="number" name="points" placeholder="예: 1000 또는 -500" required>
                </div>
                <div class="form-group">
                    <label>사유</label>
                    <input type="text" name="reason" placeholder="지급 사유 입력" required>
                </div>
                <button type="submit">포인트 지급/회수</button>
            </form>
        </div>

        <!-- 상태 관리 탭 -->
        <div id="status-tab" class="tab-content">
            <form id="status-form" class="tab-form">
                <div class="form-group">
                    <label>회원 선택</label>
                    <select id="member-id-status" name="member_id" required><option value="">로딩 중...</option></select>
                </div>
                <div class="form-group">
                    <label>상태 종류</label>
                    <select id="status-type-select" name="type_id" required><option value="">로딩 중...</option></select>
                </div>
                <div class="btn-grid">
                    <button type="button" id="btn-status-add" class="btn-blue">부여</button>
                    <button type="button" id="btn-status-decrease" class="btn-sky">완화▼</button>
                    <button type="button" id="btn-status-evolve" class="btn-orange">악화▲</button>
                    <button type="button" id="btn-status-cure" class="btn-green">치료</button>
                </div>
            </form>
        </div>

        <!-- 포인트 양도 탭 -->
        <div id="transfer-point-tab" class="tab-content">
            <form id="transfer-point-form" class="tab-form">
                <div class="form-group">
                    <label>보내는 분</label>
                    <select name="sender_id" required><option value="">선택</option></select>
                </div>
                <div class="form-group">
                    <label>받는 분</label>
                    <select name="receiver_id" required><option value="">선택</option></select>
                </div>
                <div class="form-group">
                    <label>양도 금액</label>
                    <input type="number" name="amount" min="1" required>
                </div>
                <button type="submit">포인트 양도 실행</button>
            </form>
        </div>

        <!-- 아이템 양도 탭 -->
        <div id="transfer-item-tab" class="tab-content">
             <form id="transfer-item-form" class="tab-form">
                <div class="form-group">
                    <label>보내는 분</label>
                    <select id="sender-id-item-transfer" name="sender_id" required><option value="">선택</option></select>
                </div>
                <div class="form-group">
                    <label>받는 분</label>
                    <select name="receiver_id" required><option value="">선택</option></select>
                </div>
                <div class="form-group">
                    <label>보유 아이템</label>
                    <select id="item-id-transfer" name="item_id" required disabled><option value="">보내는 분을 먼저 선택하세요</option></select>
                </div>
                <div class="form-group">
                    <label>수량</label>
                    <input type="number" id="quantity-transfer" name="quantity" value="1" min="1" disabled required>
                </div>
                <button type="submit" id="transfer-item-submit" disabled>아이템 양도 실행</button>
            </form>
        </div>

        <!-- 도박 탭 -->
        <div id="gamble-tab" class="tab-content">
            <form id="gamble-form" class="tab-form">
                <div class="form-group">
                    <label>회원 선택</label>
                    <select name="member_id" required><option value="">선택</option></select>
                </div>
                <div class="form-group">
                    <label>도박 종류</label>
                    <select name="game_id" required>
                        <option value="roulette">룰렛 (배율 랜덤)</option>
                        <option value="blackjack">블랙잭 (대결)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>베팅 금액</label>
                    <input type="number" name="bet_amount" min="1" required>
                </div>
                <button type="submit">도박 실행</button>
            </form>
        </div>

        <!-- 아이템 지급/구매 탭 -->
        <div id="item-tab" class="tab-content">
            <form id="item-form" class="tab-form">
                <div class="form-group">
                    <label>회원 선택</label>
                    <select name="member_id" required><option value="">선택</option></select>
                </div>
                <div class="form-group">
                    <label>아이템 선택</label>
                    <select id="item-id-select" name="item_id" required><option value="">로딩 중...</option></select>
                </div>
                <div class="form-check">
                    <input type="checkbox" id="item-is-purchase" name="is_purchase">
                    <label for="item-is-purchase">포인트 차감 (상점 구매 처리)</label>
                </div>
                <div class="form-group">
                    <label>수량</label>
                    <input type="number" name="quantity" value="1" min="1" required>
                </div>
                <button type="submit">아이템 실행</button>
            </form>
        </div>
        
        <!-- 정보 조회 탭 -->
        <div id="info-tab" class="tab-content">
            <form id="info-form" class="tab-form">
                <div class="form-group">
                    <label>회원 선택</label>
                    <select name="member_id" required><option value="">선택</option></select>
                </div>
                <button type="submit">정보 새로고침</button>
            </form>
        </div>
    </main>

    <footer>
        <div class="res-label">처리 결과</div>
        <textarea id="result-box" rows="2" readonly placeholder="결과가 여기에 표시됩니다..."></textarea>
        <p id="error-message"></p>
    </footer>

    <script src="popup.js"></script>
</body>
</html>